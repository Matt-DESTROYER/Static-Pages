// Copyright Matthew James, 2021
// technically not a class... but it kinda is...
const DirtMound=(e,t)=>new GameObject(e,t,new PolygonMesh([new Vector2(0,-10),new Vector2(-10,0),new Vector2(10,0)]),function(){ctx.beginPath(),ctx.fillStyle="Sienna",ctx.moveTo(this.x-25,this.y),ctx.bezierCurveTo(this.x,this.y-25,this.x,this.y-25,this.x+25,this.y),ctx.fill(),ctx.closePath(),this.stage>0&&(ctx.beginPath(),ctx.fillStyle="brown",ctx.ellipse(this.x,this.y-20,3,5,0,0,2*Math.PI),ctx.fill(),ctx.closePath()),2===this.stage&&(ctx.fillStyle="rgb(138, 81, 81)",ctx.fillRect(this.x-1,this.y-30,2,8),ctx.beginPath(),ctx.fillStyle="rgb(16, 181, 36)",ctx.translate(this.x,this.y-32),ctx.rotate(-15),ctx.ellipse(-2,0,1,4,0,0,2*Math.PI),ctx.rotate(30),ctx.ellipse(2,0,1,4,0,0,2*Math.PI),ctx.rotate(-15),ctx.fill(),ctx.closePath(),ctx.translate(-this.x,-(this.y-32)))},function(){this.stage=0,this.name="dirt mound"},function(){(Input.mouseDown||Input[32])&&scenes[1].gameObjects[scenes[1].gameObjects.length-1].holdingItem&&"seed"===scenes[1].gameObjects[scenes[1].gameObjects.length-1].item.name&&dist(this.x,this.y,scenes[1].gameObjects[scenes[1].gameObjects.length-1].x,scenes[1].gameObjects[scenes[1].gameObjects.length-1].y)<30&&0===this.stage?(scenes[1].gameObjects[scenes[1].gameObjects.length-1].holdingItem=!1,scenes[1].gameObjects[scenes[1].gameObjects.length-1].item=null,this.stage=1):(Input.mouseDown||Input[32])&&scenes[1].gameObjects[scenes[1].gameObjects.length-2].holdingItem&&"watering can"===scenes[1].gameObjects[scenes[1].gameObjects.length-2].item.name&&dist(this.x,this.y,scenes[1].gameObjects[scenes[1].gameObjects.length-2].x,scenes[1].gameObjects[scenes[1].gameObjects.length-2].y)<30&&1===this.stage&&(this.stage=2)});